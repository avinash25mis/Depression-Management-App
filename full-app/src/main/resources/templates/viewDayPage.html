<!DOCTYPE html>

<html  xmlns:th="http://www.thymeleaf.org">
<head>

    <!-- Datatable CSS -->
    <link th:rel="stylesheet" th:href="@{/css/datatables.css}"/>
    <link th:rel="stylesheet" th:href="@{webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} "/>
    <script th:src="@{/webjars/jquery/jquery.min.js}"></script>
    <script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
    <script th:src="@{/js/datatables.js}"></script>


</head>
<body>

<!-- Pills navs -->
<ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
    <li class="nav-item tabOne"  role="presentation">
        <a
                class="nav-link active"
                id="tab-login"
                data-mdb-toggle="pill"
                href="/dashboard/home"
                role="tab"
                aria-controls="pills-login"
                aria-selected="true"
        >Dashboard</a
        >
    </li>
    <li class="nav-item tabTwo" role="presentation">
        <a
                class="nav-link active"
                id="tab-register"
                data-mdb-toggle="pill"
                href="/viewDayPage"
                role="tab"
                aria-controls="pills-login"
                aria-selected="true"
        >Day wise content</a
        >
    </li>
</ul>

<br> <br>

<div class="container">
    <div class="row">

            <table id="example" class="display nowrap" style="width:100%">
                <thead>
                <tr>
                    <th>Day</th>
                    <th>Time</th>
                    <th>Title</th>
                    <th>Message</th>
                    <th>genre1</th>
                    <th>genre2</th>
                    <th>Link</th>

                </tr>
                </thead>

            </table>
    </div>
</div>



</body>



<script>

$(document).ready(function() {
        var data;


        $.ajax({
              url:  "/viewDayPage/json",
              type: "POST",
              dataType: "json",
            contentType: "application/json",
            async:false,

        success: function (d) {
          data=d;
          
        },
       error: function (jqXHR) {
        alert(jqXHR.responseJSON.message);

        },

    });

        $('#example').DataTable({
        "processing": false,
        "serverSide": false,
         "data":           data,
        "deferRender":    true,
            "scrollY":        200,
            "scrollCollapse": true,
            "scroller":       true,
        
        "columns": [
            {"data": "day"},
            {"data": "time"},
            {"data": "title"},
            {"data": "message"},
            {"data": "genre1"},
            {"data": "genre2"},
            {"data": "link",
            "render": function( data, type, full, meta) {
            if(type === 'display'){
                data = '<a href="' + data + '">' + data + '</a>';
            }
          return data;
  }
        
        }


        ]
    });

});


</script>

</html>